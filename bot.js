const e=require("mineflayer");module.exports={createBotInstance:function(o,n){const t=e.createBot({host:"play.blocksmc.com",port:25565,version:"1.8.9",username:o,auth:"offline"});let r=!1;function s(e){r||(r=!0,n({type:"result",message:e}),t&&"function"==typeof t.quit&&t.quit("Disconnecting after final result"))}t.on("spawn",(()=>{t&&"function"==typeof t.quit&&t.quit("Spawning complete, logging out."),setTimeout((()=>{s(`The player <span style="color:red;">${o}</span> is currently not banned!`)}),2300)})),t.on("message",(e=>{const o=e.toString();console.log("Chat message:",o)})),t.on("kicked",(e=>{const o=e.toString();console.log("Kicked:",o),n({type:"log",message:"Kicked: "+o}),s("Kicked: "+o)})),t.on("error",(e=>{console.error("Bot encountered an error:",e),r||s("Error: "+e.message)}))}};